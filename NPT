#!/bin/bash

# --- 1. SETUP MINER DIRECTORY AND UTILITIES ---
APP_DIR="/NPT"
apt update && apt install -y nano screen btop nvtop

mkdir -p $APP_DIR
cd $APP_DIR
wget https://github.com/Qubic-Solutions/OXZD/releases/download/0.7.1/oxzd-x86-64
chmod +x oxzd-x86-64

# --- 2. CREATE config.json WITH EMBEDDED WALLET STRING ---
cat << EOF > config.json
{
  "selected": [
    "neptune-gpu"
  ],
  "algo_list": [
    {
      "id": "neptune-gpu",
      "algo": "neptune",
      "pool": "stratum+ssl://eu.poolhub.io:4444",
      "worker_name": "LAST",
      "address": "nolgam10rr5g840h99zz7kr0dmz7fg8mkr27mgc87hrsv60syxvq9qrfct5haj6j2uaymn5wp5nfflx4svgqx7230l7x7kp5yfm8dqwxhwm3ywwwrlz5afkhe64cla92xnjvk3jwlaevtmzcweuy0kyrjqdexycw93vuqdfk3zxp79jlraxmjrp8m4jqynlycctzkpng26m2aqv6g2qkk84gceepycvrpnrps4dz5uqldcl9zlac4er8wjp2l0sxvftj57zwvx3x647q5dzdjcejfaldnueskkrhnhac2jgkdmfk9l3gf6zzz0pqj8as3cpgeqryxczw6gc3uvsspdr38a2fjwyp0h9nkx69dmympkhe0v7qaku9t3qxffgm9h5lu8k90f9mkkdy7988erv62u6juf537lv5hr2xrhehykfhzhqpdqe2r8e7ct0l0jxspelqdja4mf0xmwcq5maaq6y2u9s9p7yjc8g7ygqu9sxqvggyqlauusu9e38e648sxx3qduaveqggey6qaaw28ntyk0xd995su4ll674ngk6fmvagks6r059kcwhgujhqvshqll02hmsfusd4470vfl2apyd8jmad6u88h9aqlhjc3nckz247y8va2twlsl407gkf52d2s6xx8smu9ll7wvgzfny9khz9na8vktdvkmht6ts2ugzn3kc8cefeqxn20v4lpdfem2c0c8lgen3mp0mfrd8w8v83g4l53ajde23nsyzlem4e0gjalxtew2vcwnx2c6se3m0kqxky6z505mplctg0nnyqg2zx2cw3j7rfj2h034ahv26qqet35hgyjuvkl3kvue0k97rf9qyg6nk7yczmee3caulyc60yequ8vnkfq0rpydlksn2cg6t0stly5c7wwrv4yycjfpu0ayyy54qtt9gjuyjwsuw6wtm7l0pqhzxs0ul79ff43zdfxy9wfg0trmq0us6lra9rzkezyv7vhx3ls790xcyj5amahhzcv0xesj8gf88up8zsnad8v4hm4fqw4wcfde7ekkyxypucmqeyk9qxm4sx3n9zc0vw7ztx8948j08ucglcccsdcd6t4a5puy045xp7vyk56gq7cslwgfuyldvsynt06nudk585d3ye706jrnwwhkak93szwjpced9gksr44zrhpdna346z5yvpqaenxuy7kavljxqv3r5crlmztufjt78qr2q5a87rk3cvkjr8wr46n3cm62gpx2ntuzenm3p4zg8zeh68p6zhvlfmwe74c3ffmvvgctlr7472vwtv4tzv5420gxj4c2pfs3kpl9aqhcxq0l62x40rrdj8xpjv0lheg2hgralfa240crsluz09yz88cyu44xpkn9p8s5u84whdem9qjhnawqtdz37n09ewmee6dh08hqvupzsj7jnaw0w9nn4f25e4655rcjnfutuzvmax8fdqsu60dygdc6regn9f0vax8328sj7avwh8j7jq5k82lwywp3spf7vve36psmeza82ymsx0ly8jt6c50jutaxxdp7snxrqaxxjd2mg2cq7cz4mlqstwwj7tqx24f5q25k3c7px28lvf5afy43juzpkdehh0k8qg2zert2yv8ucz3vsc78xjy0nym2unwugkgaq2l3sn3s7qyx3dxl4va0nl2jvtae0x7l9m8seg8wa08d7sjhc5ga8md39mrvremmqgczaqhtp0ta68uuqamqjmheczszqqnk04zp0agswamyp8xlz7sj4jhvtagswr5y3ydjkjdfjnwpry0lmaazr8xd20w6whpcxlfmvn467v7nq48k690k082ty9fpsxsu0yv0jlz3jrs230a8ffr3dnelrc3ttjunwudxvlcvj32fdc92yae9mgxh97av722uq87y25tqdgqmrkvea6m6yz4e0kxyfnafdj80zwghe6n4psfl2rpl385xewn32tczp9f53zeplj43euj3cym6dk3mdexem0hywmds93q3c6mgee5dcznzvva2mt72emgtlx7xkn7gjac7mq0k2gw24t4cnsyq56tf0fmv05azuyhwphwg4zr0a2rxs2k5n4684d398tvl4vgnrqw3ea0558squ32rl92qqqax8pmqw3x0jgw4c00gf9r0qd057d5kjnzrglz48zsfy6c5w9phpkpmutclceehqdagfgs242htsw24smx7x5f6cvsmukyrfzwprwts0ejva4pj86k4f7hedpnhlkr63ujc5720sl8ndqnrqp3f46ewynugzau29dgysel9cmhtva96uq0hqvpfvx6mexrwad3seulxqd5c7m6u84nkspzxhtl926tzawydtjppjqh2cyxl33exyefe80j76gazpw8hzf82d7nk9775yuxu20a6s3yzjl8y5w5q0s0a52uun2z5hs992m8eu7enn7td0uj4lepchzp9y0frezyphdxa0629zdhcrrvl6hpdkrhmu8tc8p6qwz4nvl05cjjhcxg7gf4ynnfa5jdt7m3gv3k2ry8kqj2unen7lwzr7tx6tvkf5ypy5kum57c4xqrzmpmh890qq6sq2nla2lvegd4rqkwlljzxrnc3hz7fyeljjdrfd066ce58zvrz84uqte0h337js94f3dja093zfsyf8je3mruxfsmmtqvkac92ftxqwcyea9jhm25m4zzxw6wlskh8hwtqunugqpm88y8fucpk8nf8ued349yplcq730cu6ezk4wqtx9wnthf6fhluhcumfj6wll4vs400g6t9nxgw22fy9hx6fdlqju4gzaachs5lysjelfzka702x4c68zf79qfhgru9wunycfj3jvafguptq48z2jmueky4p38e2y6p85qwgxfphyuc37zuu6wu3sraxh9ayumhtchk47q3w0tthsm0rcdjpjewmt2zmnw6lsj9mxfl545q2kfa9swvqzhl00gqzx4z02mtlk046eps3rga0wat7zxw353g0ke882f08z9hea3py64z5v4wzc6h7dp8f0y64fyzlmupr8euwv0cgt82ha5hqqpuvx60wdy0zy7umytcny9z9dcv97kw2vms90hk687zrrqkmwe7mew8c0n6cndprw4l9txcwf6a9uek69x6j5wwrglgp4fdzkwx0qgyyfnsleflx06pgw6ssmwf57jahs884fscge9wvmduly0yghma699zx7e7pe2smdjxukjgkryzcxnrjlnuxdvhqp5y8405hzxt2jnhh2hsklkm7fnhu0vd8k3wv6prpedxynmfcldfvk5lwa7m8fh2shq4lpc56k0mq2funf4mgyz995zpyetrxvvudyfz90u8v2zaac583rzqh555zggz6xxcj8d6ncp27z4t09unphf7udty72ehc28wlcl55czkxj7dgj7lt4h64q0s8pzhjklqxzejxr7262fcmv9muj7t"
  "config": {
    "type": "gpu",
    "option": "all"
  },
  "idle_algos": []
}
]
}
EOF

screen -dmS NPT ./oxzd-x86-64 run --config config.json
